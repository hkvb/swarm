#!/usr/bin/env bash

# START CONFIGURATION
export CONFIGURATION_MODULE_KSQLDB_PORT="8088"
export CONFIGURATION_MODULE_KSQLDB_ENVIRONMENT_BOOTSTRAP_SERVERS="kafka:9092"
export CONFIGURATION_MODULE_KSQLDB_ENVIRONMENT_KSQL_HOST_NAME="${VCW_STACK_HOSTNAME}"
export CONFIGURATION_MODULE_KSQLDB_MEMORY_LIMIT="1536m"
export CONFIGURATION_MODULE_KSQLDB_MEMORY_RESERVED="1024m"
export CONFIGURATION_MODULE_KSQLDB_ENVIRONMENT_EXTRA=", \
'KSQL_PRODUCER_INTERCEPTOR_CLASSES=io.confluent.monitoring.clients.interceptor.MonitoringProducerInterceptor', \
'KSQL_CONSUMER_INTERCEPTOR_CLASSES=io.confluent.monitoring.clients.interceptor.MonitoringConsumerInterceptor', \
'KSQL_KSQL_SCHEMA_REGISTRY_URL=http://${VCW_STACK_HOSTNAME}:8081', \
'KSQL_KSQL_ADVERTISED_LISTENER=http://${VCW_STACK_HOSTNAME}:80/vcw_stack/ksqldb', \
'KSQL_LISTENERS=http://0.0.0.0:8088'
"
#export VCW_STACK_KSQLDB_MODE=",'KSQL_LISTENERS=http://0.0.0.0:8088','KSQL_KSQL_SCHEMA_REGISTRY_URL=http://schema_registry:8081'"
#export VCW_STACK_KSQLDB_CONSOLE=",'KSQL_LISTENERS=http://0.0.0.0:8088','KSQL_KSQL_SCHEMA_REGISTRY_URL=http://schema_registry:8081'"
#export VCW_STACK_KSQLDB_HEADLESS=",'KSQL_KSQL_QUERIES_FILE=','KSQL_KSQL_SCHEMA_REGISTRY_URL=http://schema_registry:8081'"

#KSQL_PRODUCER_INTERCEPTOR_CLASSES: "io.confluent.monitoring.clients.interceptor.MonitoringProducerInterceptor"
#KSQL_CONSUMER_INTERCEPTOR_CLASSES: "io.confluent.monitoring.clients.interceptor.MonitoringConsumerInterceptor"
#KSQL_KSQL_SCHEMA_REGISTRY_URL: "http://schema-registry:8081"
#KSQL_KSQL_CONNECT_URL: "http://connect:8083"

#'KSQL_SECURITY_PROTOCOL=SASL_SSL',\
#'KSQL_SASL_JAAS_CONFIG=org.apache.kafka.common.security.plain.PlainLoginModule required username=\"${DOLLAR}{VCW_STACK_KSQLDB_ENVIRONMENT_SASL_JAAS_CONFIG_CLUSTER_API_KEY}\" password=\"${DOLLAR}{VCW_STACK_KSQLDB_ENVIRONMENT_SASL_JAAS_CONFIG_CLUSTER_API_SECRET}\";',\
#'KSQL_SASL_MECHANISM=PLAIN',\
#'KSQL_SSL_ENDPOINT_IDENTIFICATION_ALGORITHM=HTTPS',\
#'KSQL_PRODUCER_INTERCEPTOR_CLASSES=io.confluent.monitoring.clients.interceptor.MonitoringProducerInterceptor',\
#'KSQL_PRODUCER_CONFLUENT_MONITORING_INTERCEPTOR_SASL_MECHANISM=PLAIN',\
#'KSQL_PRODUCER_CONFLUENT_MONITORING_INTERCEPTOR_SECURITY_PROTOCOL=SASL_SSL',\
#'KSQL_PRODUCER_CONFLUENT_MONITORING_INTERCEPTOR_SASL_JAAS_CONFIG=org.apache.kafka.common.security.plain.PlainLoginModule required username=\"${DOLLAR}{VCW_STACK_KSQLDB_ENVIRONMENT_PRODUCER_CONFLUENT_MONITORING_INTERCEPTOR_SASL_JAAS_CONFIG_CLUSTER_API_KEY}\" password=\"${DOLLAR}{VCW_STACK_KSQLDB_ENVIRONMENT_PRODUCER_CONFLUENT_MONITORING_INTERCEPTOR_SASL_JAAS_CONFIG_CLUSTER_API_SECRET}\";',\
#'KSQL_CONSUMER_INTERCEPTOR_CLASSES=io.confluent.monitoring.clients.interceptor.MonitoringConsumerInterceptor',\
#'KSQL_CONSUMER_CONFLUENT_MONITORING_INTERCEPTOR_SASL_MECHANISM=PLAIN',\
#'KSQL_CONSUMER_CONFLUENT_MONITORING_INTERCEPTOR_SECURITY_PROTOCOL=SASL_SSL',\
#'KSQL_CONSUMER_CONFLUENT_MONITORING_INTERCEPTOR_SASL_JAAS_CONFIG=org.apache.kafka.common.security.plain.PlainLoginModule required username=\"${DOLLAR}{VCW_STACK_KSQLDB_ENVIRONMENT_CONSUMER_CONFLUENT_MONITORING_INTERCEPTOR_SASL_JAAS_CONFIG_CLUSTER_API_KEY}\" password=\"${DOLLAR}{VCW_STACK_KSQLDB_ENVIRONMENT_CONSUMER_CONFLUENT_MONITORING_INTERCEPTOR_SASL_JAAS_CONFIG_CLUSTER_API_SECRET}\";'\
#'KSQL_KSQL_SCHEMA_REGISTRY_URL=${DOLLAR}{VCW_STACK_KSQLDB_ENVIRONMENT_SCHEMA_REGISTRY_URL}',\
#'KSQL_KSQL_SCHEMA_REGISTRY_BASIC_AUTH_CREDENTIALS_SOURCE=${DOLLAR}{VCW_STACK_KSQLDB_ENVIRONMENT_SCHEMA_REGISTRY_API_KEY}',\
#'KSQL_KSQL_SCHEMA_REGISTRY_BASIC_AUTH_USER_INFO=${DOLLAR}{VCW_STACK_KSQLDB_ENVIRONMENT_SCHEMA_REGISTRY_API_SECRET}'\

# END CONFIGURATION
